<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>/Users/inazuma15/web/www/inazumatv.js.library/wakegi.js/src/document/Dom.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Android.html">Android</a></li>
            
                <li><a href="../classes/Browser.html">Browser</a></li>
            
                <li><a href="../classes/Chrome.html">Chrome</a></li>
            
                <li><a href="../classes/CriOS.html">CriOS</a></li>
            
                <li><a href="../classes/Css3.html">Css3</a></li>
            
                <li><a href="../classes/Dom.html">Dom</a></li>
            
                <li><a href="../classes/Element.html">Element</a></li>
            
                <li><a href="../classes/Firefox.html">Firefox</a></li>
            
                <li><a href="../classes/IE.html">IE</a></li>
            
                <li><a href="../classes/iOS.html">iOS</a></li>
            
                <li><a href="../classes/Mac.html">Mac</a></li>
            
                <li><a href="../classes/Mobile.html">Mobile</a></li>
            
                <li><a href="../classes/Safari.html">Safari</a></li>
            
                <li><a href="../classes/Touch.html">Touch</a></li>
            
                <li><a href="../classes/Transform.html">Transform</a></li>
            
                <li><a href="../classes/Transition.html">Transition</a></li>
            
                <li><a href="../classes/Windows.html">Windows</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Browser.html">Browser</a></li>
            
                <li><a href="../modules/wakegi.html">wakegi</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: /Users/inazuma15/web/www/inazumatv.js.library/wakegi.js/src/document/Dom.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * license inazumatv.com
 * author (at)taikiken / http://inazumatv.com
 * date 2015/04/02 - 20:40
 *
 * Copyright (c) 2011-2015 inazumatv.com, inc.
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 *
 * @module wakegi
 */
( function ( window ){
  &quot;use strict&quot;;

  var
    document = window.document,
    wakegi = window.wakegi;

  wakegi.Dom = ( function (){

    /**
     * @class Dom
     * @constructor
     * @param {HTMLElement} element
     */
    function Dom ( element ) {
      this._element = element;
    }

    var p = Dom.prototype;

    p.constructor = Dom;
    /**
     * @method hasClass
     * @param {string} className
     * @return {boolean}
     */
    p.hasClass = function ( className ) {
      return Dom.hasClass( this._element, className );
    };
    /**
     * @method addClass
     * @param {string} className
     * @return {Dom}
     */
    p.addClass = function ( className ) {
      Dom.addClass( this._element, className );
      return this;
    };
    /**
     * @method removeClass
     * @param {string} className
     * @return {Dom}
     */
    p.removeClass = function ( className ) {
      Dom.removeClass( this._element, className );
      return this;
    };
    /**
     * @method style
     * @param {string} [styleProp]
     * @return {*}
     */
    p.style = function ( styleProp ) {

      return Dom.getStyle( this._element, styleProp );

    };
    /**
     * @method hasClass
     * @static
     * @param {HTMLElement} element
     * @param {string} className
     * @return {boolean}
     */
    Dom.hasClass = function ( element, className ) {
      return !!element.className.match( new RegExp( className, &quot;i&quot; ) );
    };
    /**
     * @method addClass
     * @static
     * @param {HTMLElement} element
     * @param {string} className
     * @return {Dom}
     */
    Dom.addClass = function ( element, className ) {
      var
        names = &quot;&quot;,
        space;

      if ( !Dom.hasClass( element, className ) ) {
        // 追加 className が not found
        space = &quot;&quot;;
        names = element.className;

        if ( names !== &quot;&quot; ) {
          // 既に class 設定されているので 1 space を付与する
          space = &quot; &quot;;
        }

        names += space + className;
        names = names.split( &quot;  &quot; ).join( &quot; &quot; );
        element.className = names;

      }

      return Dom;
    };
    /**
     * @method removeClass
     * @static
     * @param {HTMLElement} element
     * @param {string} className
     * @return {Dom}
     */
    Dom.removeClass = function ( element, className ) {
      var
        names = &quot;&quot;;

      //console.log( &quot;Element.removeClass &quot;, className, Element.hasClass( element, className ) );

      if ( Dom.hasClass( element, className ) ) {
        // found class name
        names = element.className;
        // class を削除して 2 spaces を 1 space へ
        names = names.replace( className, &quot;&quot; ).split( &quot;  &quot; ).join( &quot; &quot; );

        if ( names.substr( 0, 1 ) === &quot; &quot; ) {

          names = names.substr( 1 );

        }

        if ( names === &quot; &quot; ) {
          // space のみになったら空へ
          names = &quot;&quot;;

        }

        element.className = names;

      }

      return Dom;

    };
    /**
     * getComputedStyle を使い HTMLElement style value を取得します
     * @method styleCompute
     * @static
     * @param {Object} defaultView
     * @param {HTMLElement} el
     * @param {string} [styleProp]
     * @return {CSSStyleDeclaration|*|String}
     *    styleProp が null or undefined or &quot;&quot; の時は CSSStyleDeclaration Object&lt;br&gt;
     *    指定されている時は CSS 設定値(string)を返します
     */
    Dom.styleCompute = function ( defaultView, el, styleProp ) {
      var
        style = defaultView.getComputedStyle( el, null );

      if ( !!styleProp ) {

        styleProp = styleProp.replace( /([A-Z])/g, &quot;-$1&quot; ).toLowerCase();
        return style.getPropertyValue( styleProp );

      }

      return style;
    };
    /**
     * currentStyle を使い HTMLElement style value を取得します
     * @method styleCurrent
     * @static
     * @param {HTMLElement} el
     * @param {string} [styleProp]
     * @return {*}
     */
    Dom.styleCurrent = function ( el, styleProp ) {
      var
        style = el.currentStyle,
        value;

      if ( !!styleProp ) {
        // IE
        // sanitize property name to camelCase
        styleProp = styleProp.replace(/\-(\w)/g, function( str, letter ) {
          return letter.toUpperCase();
        });

        value = style[ styleProp ];

        // convert other units to pixels on IE
        if ( /^\d+(em|pt|%|ex)?$/i.test( value ) ) {

          return ( function( value ) {
            var oldLeft = el.style.left, oldRsLeft = el.runtimeStyle.left;

            el.runtimeStyle.left = el.currentStyle.left;
            el.style.left = value || 0;
            value = el.style.pixelLeft + &quot;px&quot;;
            el.style.left = oldLeft;
            el.runtimeStyle.left = oldRsLeft;

            return value;

          } )( value );
        }

        return value;

      }

      return style;

    };

    /**
     * HTMLElement の css style を返します
     * @method getStyle
     * @static
     * @param {HTMLElement} el
     * @param {string} [styleProp]
     * @return {*}
     */
    Dom.getStyle = function ( el, styleProp ) {
      // https://gist.github.com/cms/369133

      //var value, defaultView = el.ownerDocument.defaultView;
      //// W3C standard way:
      //if (defaultView &amp;&amp; defaultView.getComputedStyle) {
      //  // sanitize property name to css notation (hyphen separated words eg. font-Size)
      //
      //  styleProp = styleProp.replace( /([A-Z])/g, &quot;-$1&quot; ).toLowerCase();
      //  return defaultView.getComputedStyle( el, null ).getPropertyValue( styleProp );
      //
      //} else if ( el.currentStyle ) {
      //  // IE
      //  // sanitize property name to camelCase
      //  styleProp = styleProp.replace(/\-(\w)/g, function( str, letter ) {
      //    return letter.toUpperCase();
      //  });
      //
      //  value = el.currentStyle[ styleProp ];
      //
      //  // convert other units to pixels on IE
      //  if ( /^\d+(em|pt|%|ex)?$/i.test( value ) ) {
      //
      //    return ( function( value ) {
      //      var oldLeft = el.style.left, oldRsLeft = el.runtimeStyle.left;
      //
      //      el.runtimeStyle.left = el.currentStyle.left;
      //      el.style.left = value || 0;
      //      value = el.style.pixelLeft + &quot;px&quot;;
      //      el.style.left = oldLeft;
      //      el.runtimeStyle.left = oldRsLeft;
      //
      //      return value;
      //    } )( value );
      //  }
      //
      //  return value;
      //}

      var
        defaultView = el.ownerDocument.defaultView,
        result;

      if ( !!defaultView &amp;&amp; !!defaultView.getComputedStyle ) {

        result = Dom.styleCompute( defaultView, el, styleProp );

      } else if ( !!el.currentStyle ) {

        result = Dom.styleCurrent( el, styleProp );

      }

      return result;

    };

    return Dom;
  }() );

}( window ) );
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
