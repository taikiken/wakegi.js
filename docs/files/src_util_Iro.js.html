<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/util/Iro.js - wakegi.js API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="wakegi.js API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Android.html">Android</a></li>
            
                <li><a href="../classes/Browser.html">Browser</a></li>
            
                <li><a href="../classes/Chrome.html">Chrome</a></li>
            
                <li><a href="../classes/CriOS.html">CriOS</a></li>
            
                <li><a href="../classes/Css3.html">Css3</a></li>
            
                <li><a href="../classes/Dataset.html">Dataset</a></li>
            
                <li><a href="../classes/Dom.html">Dom</a></li>
            
                <li><a href="../classes/Edge.html">Edge</a></li>
            
                <li><a href="../classes/Element.html">Element</a></li>
            
                <li><a href="../classes/Firefox.html">Firefox</a></li>
            
                <li><a href="../classes/FxiOS.html">FxiOS</a></li>
            
                <li><a href="../classes/IE.html">IE</a></li>
            
                <li><a href="../classes/iOS.html">iOS</a></li>
            
                <li><a href="../classes/Iro.html">Iro</a></li>
            
                <li><a href="../classes/Mac.html">Mac</a></li>
            
                <li><a href="../classes/Mobile.html">Mobile</a></li>
            
                <li><a href="../classes/Patterns.html">Patterns</a></li>
            
                <li><a href="../classes/Safari.html">Safari</a></li>
            
                <li><a href="../classes/Touch.html">Touch</a></li>
            
                <li><a href="../classes/Transform.html">Transform</a></li>
            
                <li><a href="../classes/Transition.html">Transition</a></li>
            
                <li><a href="../classes/Util.html">Util</a></li>
            
                <li><a href="../classes/Windows.html">Windows</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Android.html">Android</a></li>
            
                <li><a href="../modules/Browser.html">Browser</a></li>
            
                <li><a href="../modules/Chrome.html">Chrome</a></li>
            
                <li><a href="../modules/CriOS.html">CriOS</a></li>
            
                <li><a href="../modules/Css3.html">Css3</a></li>
            
                <li><a href="../modules/Dataset.html">Dataset</a></li>
            
                <li><a href="../modules/Dom.html">Dom</a></li>
            
                <li><a href="../modules/Edge.html">Edge</a></li>
            
                <li><a href="../modules/Element.html">Element</a></li>
            
                <li><a href="../modules/Firefox.html">Firefox</a></li>
            
                <li><a href="../modules/FxiOS.html">FxiOS</a></li>
            
                <li><a href="../modules/IE.html">IE</a></li>
            
                <li><a href="../modules/iOS.html">iOS</a></li>
            
                <li><a href="../modules/Iro.html">Iro</a></li>
            
                <li><a href="../modules/Mac.html">Mac</a></li>
            
                <li><a href="../modules/Mobile.html">Mobile</a></li>
            
                <li><a href="../modules/Patterns.html">Patterns</a></li>
            
                <li><a href="../modules/Safari.html">Safari</a></li>
            
                <li><a href="../modules/Touch.html">Touch</a></li>
            
                <li><a href="../modules/Transform.html">Transform</a></li>
            
                <li><a href="../modules/Transition.html">Transition</a></li>
            
                <li><a href="../modules/Util.html">Util</a></li>
            
                <li><a href="../modules/wakegi.html">wakegi</a></li>
            
                <li><a href="../modules/Windows.html">Windows</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/util/Iro.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * Copyright (c) 2011-2015 inazumatv.com, inc.
 * @author (at)taikiken / http://inazumatv.com
 * @date 2015/11/19 - 16:44
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 *
 */

/**
 * rgb, hsl, hsv
 *
 * Color 関連 utilities
 *
 * @module wakegi
 * @submodule Iro
 *
 * */
( function( window ) {
  &#x27;use strict&#x27;;

  var
    wakegi = window.wakegi,
    Math = window.Math,

    mathFloor = Math.floor,
    mathMax = Math.max,
    mathMin = Math.min,
    mathInt = window.parseInt;

  /**
   * 色設定 utility
   *
   * - http://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion
   * - http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb
   * - https://github.com/mbostock/d3/tree/master/src/color
   *
   * &#x60;not found&#x60;
   * - https://github.com/less/less.js/blob/master/lib/less/functions.js
   *
   * @class Iro
   * @static
   * @constructor
   */
  function Iro() {
    throw new Error(&#x27;Iro can\&#x27;t create instance&#x27;);
  }

  var p = Iro.prototype;
  p.constructor = Iro;

  // https://github.com/less/less.js/blob/master/lib/less/functions.js
  // http://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion
  /**
   * R, G, B to HSL
   * @method rgb2hsl
   * @static
   * @param {int} r red color number
   * @param {int} g green color number
   * @param {int} b blue color number
   * @return {object} {h: number, s: number, l: number}
   */
  Iro.rgb2hsl = function(r, g, b) {
    r /= 255;
    g /= 255;
    b /= 255;

    var
      max = mathMax(r, g, b),
      min = mathMin(r, g, b),
      h, s, l, d;

    l = (max + min) / 2;

    if ( max === min ) {
      // achromatic
      h = 0;
      s = 0;
    } else {
      d = max - min;
      s = l &gt; 0.5 ? d / (2 - max - min) : d / (max + min);

      switch(max) {
        case r:
          h = (g - b) / d + (g &lt; b ? 6 : 0);
          break;

        case g:
          h = ((b - r) / d) + 2;
          break;

        case b:
          h = ((r - g) / d) + 4;
          break;

        default:
          h = 0;
          break;
      }
      h /= 6;
    }
    return { h: h, s: s, l: l };
  };

  /**
   * HUE を RGB 変換します
   * @param {number} point 変換変数
   * @param {number} q 変換変数
   * @param {number} t 変換変数
   * @return {number} 色成分数値を返します 0 ~ 255
   */
  Iro.hue2rgb = function(point, q, t) {
    if (t &lt; 0) {
      t += 1;
    }
    if (t &gt; 1) {
      t -= 1;
    }
    if (t &lt; 1 / 6) {
      return point + (q - point) * 6 * t;
    }
    if (t &lt; 1 / 2) {
      return q;
    }
    if (t &lt; 2 / 3) {
      return point + (q - point) * ((2 / 3) - t) * 6;
    }

    return point;
  };

  /**
   * HSL を RGB 変換します
   * @method hsl2rgb
   * @static
   * @param {number} h Hue
   * @param {number} s Saturation
   * @param {number} l luminance
   * @return {object} {r: number, g: number, b: number}
   */
  Iro.hsl2rgb = function(h, s, l) {
    var r, g, b, q, point;

    if(s === 0) {
      // achromatic
      r = g = b = l;
    } else {
      q = l &lt; 0.5 ? l * (1 + s) : l + s - (l * s);
      point = (2 * l) - q;

      r = Iro.hue2rgb(point, q, h + (1 / 3));
      g = Iro.hue2rgb(point, q, h);
      b = Iro.hue2rgb(point, q, h - (1 / 3));
    }

    return {
      r: mathInt(r * 255, 10),
      g: mathInt(g * 255, 10),
      b: mathInt(b * 255, 10)
    };
  };

  /**
   * RGB を HSV 変換します
   * @method rgb2hsv
   * @static
   * @param {int} r red color number
   * @param {int} g green color number
   * @param {int} b blue color number
   * @return {object} {h: number, s: number, v: number}
   */
  Iro.rgb2hsv = function(r, g, b) {
    var red = r / 255;
    var green = g / 255;
    var blue = b / 255;

    var
      max = mathMax(red, green, blue),
      min = mathMin(red, green, blue),
      h, s,
      v = max,
      d = max - min;

    s = max === 0 ? 0 : d / max;

    if (max === min) {
      // achromatic
      h = 0;
    } else {

      switch (max) {
        case red:
          h = (green - blue) / d + (green &lt; blue ? 6 : 0);
          break;

        case green:
          h = (blue - red) / d + 2;
          break;

        case blue:
          h = (red - green) / d + 4;
          break;

        default:
          h = 0;
          break;
      }
      h /= 6;
    }
    return { h: h, s: s, v: v };
  };

  /**
   * HSV を RGB 変換します
   * @method hsv2rgb
   * @static
   * @param {number} h Hue 色相
   * @param {number} s Saturation 彩度
   * @param {number} v Value 明度
   * @return {object} {r: number, g: number, b: number}
   */
  Iro.hsv2rgb = function( h, s, v ) {
    var
      r, g, b,
      i = mathFloor(h * 6),
      f = h * 6 - i,
      point = v * (1 - s),
      q = v * (1 - f * s),
      t = v * (1 - (1 - f) * s);

    switch ( i % 6 ) {
      case 0:
        r = v;
        g = t;
        b = point;
        break;

      case 1:
        r = q;
        g = v;
        b = point;
        break;

      case 2:
        r = point;
        g = v;
        b = t;
        break;

      case 3:
        r = point;
        g = q;
        b = v;
        break;

      case 4:
        r = t;
        g = point;
        b = v;
        break;

      case 5:
        r = v;
        g = point;
        b = q;
        break;

      default:
        r = 0;
        g = 0;
        b = 0;
        break;
    }

    return {
      r: mathInt(r * 255, 10),
      g: mathInt(g * 255, 10),
      b: mathInt(b * 255, 10)
    };
  };

  // http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb
  /**
   * hex CSS shorthand to normal (#0ef -&gt; #00eeff)
   * @method hexShort
   * @static
   * @param {string} hex CSS color 形式
   * @return {string|null} CSS short hand color 形式をフル変換します
   * @see http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb
   */
  Iro.hexShort = function(hex) {
    if (typeof hex !== &#x27;string&#x27;) {
      // order string
      return null;
    }

    var
      shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;

    return hex.replace(shorthandRegex, function(m, r, g, b) {
      return r + r + g + g + b + b;
    });
  };
  /**
   * CSS color 形式文字列を RGB 分解し Object 変換します
   * @method hex2rgb
   * @static
   * @param {string} hex CSS 色設定文字 #ff0000
   * @return {object} {r: number, g: number, b: number}
   */
  Iro.hex2rgb = function(hex) {
    var hexString = Iro.hexShort( hex );
    if (typeof hexString !== &#x27;string&#x27;) {
      // order string
      return null;
    }
    // Expand shorthand form (e.g. &quot;03F&quot;) to full form (e.g. &quot;0033FF&quot;)
    var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hexString);
    return result ?
    {
      r: mathInt(result[1], 16),
      g: mathInt(result[2], 16),
      b: mathInt(result[3], 16)
    } : null;
  };

  /**
   * color(red, green, blue) number を 16進数変換し2桁文字列に変換します
   * @method componentToHex
   * @static
   * @param {number} color color(red, green, blue) number
   * @return {string} 2桁を保障し文字列変換し返します
   */
  Iro.componentToHex = function(color) {
    var hex = color.toString(16);
    return hex.length === 1 ? &#x27;0&#x27; + hex : hex;
  };

  /**
   * color(red, green, blue) number を CSS color 形式文字列へ変換します
   * @method rgb2hex
   * @static
   * @param {int} r red color number
   * @param {int} g green color number
   * @param {int} b blue color number
   * @return {string} CSS color 形式文字列を返します
   */
  Iro.rgb2hex = function(r, g, b) {
    var
      red = Iro.componentToHex(r),
      green = Iro.componentToHex(g),
      blue = Iro.componentToHex(b);
    return &#x27;#&#x27; + red + green + blue;
  };

  /**
   * convert int to hex, 16777215 -&gt; #ffffff
   * @method int2hex
   * @static
   * @param {number} num 変換元 10進数
   * @return {string} CSS color 16進数型文字列を返します
   */
  Iro.int2hex = function(num) {
    var
      numFloor = mathFloor(num),
      hex = numFloor.toString(16),
      sub,
      i;

    if (hex.length &lt; 6) {
      i = hex.length;
      sub = 6 - i;

      while(sub) {
        hex = &#x27;0&#x27; + hex;
        --sub;
      }
    }
    return &#x27;#&#x27; + hex;
  };

  /**
   * convert hex to int, #fff -&gt; 16777215
   * @method hex2int
   * @static
   * @param {string} hex &#x60;#fff&#x60; な 16進・文字列
   * @return {int|null} hex 文字列を10進数変換し返します
   */
  Iro.hex2int = function(hex) {
    var hexString = Iro.hexShort(hex);
    if (typeof hexString !== &#x27;string&#x27;) {
      // order string
      return null;
    }
    return mathInt(hexString, 16);
  };

  wakegi.Iro = Iro;
}(window));

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
